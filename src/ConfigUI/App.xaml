<Application x:Class="Finalmouse.ConfigUI.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Application.Resources>
        <ResourceDictionary>

            <!-- ═══ Color Palette (Finalmouse XPanel aesthetic) ═══ -->
            <Color x:Key="BgDarkColor">#0A0A0A</Color>
            <Color x:Key="BgSidebarColor">#0F0F0F</Color>
            <Color x:Key="BgCardColor">#161616</Color>
            <Color x:Key="BgHoverColor">#1A1A1A</Color>
            <Color x:Key="BgInputColor">#1C1C1C</Color>
            <Color x:Key="BorderColor">#2A2A2A</Color>
            <Color x:Key="BorderActiveColor">#3A3A3A</Color>
            <Color x:Key="TextPrimaryColor">#E8E8E8</Color>
            <Color x:Key="TextSecondaryColor">#888888</Color>
            <Color x:Key="TextDimColor">#555555</Color>
            <Color x:Key="AccentGreenColor">#00E550</Color>
            <Color x:Key="AccentGlowColor">#00C040</Color>
            <Color x:Key="DangerColor">#FF4444</Color>
            <Color x:Key="WarningColor">#FFAA00</Color>
            <Color x:Key="SelectedBgColor">#1A2A1A</Color>

            <SolidColorBrush x:Key="BgDark" Color="{StaticResource BgDarkColor}" />
            <SolidColorBrush x:Key="BgSidebar" Color="{StaticResource BgSidebarColor}" />
            <SolidColorBrush x:Key="BgCard" Color="{StaticResource BgCardColor}" />
            <SolidColorBrush x:Key="BgHover" Color="{StaticResource BgHoverColor}" />
            <SolidColorBrush x:Key="BgInput" Color="{StaticResource BgInputColor}" />
            <SolidColorBrush x:Key="BorderBrush" Color="{StaticResource BorderColor}" />
            <SolidColorBrush x:Key="BorderActive" Color="{StaticResource BorderActiveColor}" />
            <SolidColorBrush x:Key="TextPrimary" Color="{StaticResource TextPrimaryColor}" />
            <SolidColorBrush x:Key="TextSecondary" Color="{StaticResource TextSecondaryColor}" />
            <SolidColorBrush x:Key="TextDim" Color="{StaticResource TextDimColor}" />
            <SolidColorBrush x:Key="AccentGreen" Color="{StaticResource AccentGreenColor}" />
            <SolidColorBrush x:Key="AccentGlow" Color="{StaticResource AccentGlowColor}" />
            <SolidColorBrush x:Key="Danger" Color="{StaticResource DangerColor}" />
            <SolidColorBrush x:Key="Warning" Color="{StaticResource WarningColor}" />
            <SolidColorBrush x:Key="SelectedBg" Color="{StaticResource SelectedBgColor}" />

            <!-- ═══ Global TextBlock Style ═══ -->
            <Style TargetType="TextBlock">
                <Setter Property="Foreground" Value="{StaticResource TextPrimary}" />
                <Setter Property="FontFamily" Value="Segoe UI" />
                <Setter Property="FontSize" Value="13" />
            </Style>

            <!-- ═══ Dark TextBox ═══ -->
            <Style x:Key="DarkTextBox" TargetType="TextBox">
                <Setter Property="Background" Value="{StaticResource BgInput}" />
                <Setter Property="Foreground" Value="{StaticResource TextPrimary}" />
                <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="Padding" Value="8,6" />
                <Setter Property="FontFamily" Value="Segoe UI" />
                <Setter Property="FontSize" Value="13" />
                <Setter Property="CaretBrush" Value="{StaticResource TextPrimary}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="TextBox">
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="6">
                                <ScrollViewer x:Name="PART_ContentHost" Margin="0" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═══ Green Accent Button ═══ -->
            <Style x:Key="AccentButton" TargetType="Button">
                <Setter Property="Background" Value="{StaticResource AccentGreen}" />
                <Setter Property="Foreground" Value="#0A0A0A" />
                <Setter Property="FontFamily" Value="Segoe UI" />
                <Setter Property="FontSize" Value="13" />
                <Setter Property="FontWeight" Value="Bold" />
                <Setter Property="Padding" Value="16,8" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="bd" Background="{TemplateBinding Background}"
                                    CornerRadius="6" Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="bd" Property="Background" Value="{StaticResource AccentGlow}" />
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="bd" Property="Opacity" Value="0.5" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═══ Danger Button ═══ -->
            <Style x:Key="DangerButton" TargetType="Button">
                <Setter Property="Background" Value="{StaticResource Danger}" />
                <Setter Property="Foreground" Value="White" />
                <Setter Property="FontFamily" Value="Segoe UI" />
                <Setter Property="FontSize" Value="13" />
                <Setter Property="FontWeight" Value="Bold" />
                <Setter Property="Padding" Value="16,8" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="bd" Background="{TemplateBinding Background}"
                                    CornerRadius="6" Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="bd" Property="Background" Value="#CC3333" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═══ Ghost/Subtle Button ═══ -->
            <Style x:Key="GhostButton" TargetType="Button">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Foreground" Value="{StaticResource Danger}" />
                <Setter Property="FontFamily" Value="Segoe UI" />
                <Setter Property="FontSize" Value="12" />
                <Setter Property="Padding" Value="6,4" />
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="bd" Background="{TemplateBinding Background}"
                                    CornerRadius="4" Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="bd" Property="Background" Value="{StaticResource BgHover}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═══ Dark ScrollBar Thumb ═══ -->
            <Style x:Key="ScrollBarThumb" TargetType="Thumb">
                <Setter Property="OverridesDefaultStyle" Value="True" />
                <Setter Property="IsTabStop" Value="False" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Thumb">
                            <Border x:Name="thumbBorder" CornerRadius="4"
                                    Background="#3A3A3A" Margin="1" />
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="thumbBorder" Property="Background" Value="#555555" />
                                </Trigger>
                                <Trigger Property="IsDragging" Value="True">
                                    <Setter TargetName="thumbBorder" Property="Background" Value="#666666" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═══ Dark Vertical ScrollBar ═══ -->
            <Style TargetType="ScrollBar">
                <Setter Property="OverridesDefaultStyle" Value="True" />
                <Setter Property="Width" Value="8" />
                <Setter Property="MinWidth" Value="8" />
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ScrollBar">
                            <Grid>
                                <Track x:Name="PART_Track" IsDirectionReversed="True">
                                    <Track.Thumb>
                                        <Thumb Style="{StaticResource ScrollBarThumb}" />
                                    </Track.Thumb>
                                </Track>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="Orientation" Value="Horizontal">
                        <Setter Property="Width" Value="Auto" />
                        <Setter Property="Height" Value="8" />
                        <Setter Property="MinHeight" Value="8" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ScrollBar">
                                    <Grid>
                                        <Track x:Name="PART_Track" IsDirectionReversed="False">
                                            <Track.Thumb>
                                                <Thumb Style="{StaticResource ScrollBarThumb}" />
                                            </Track.Thumb>
                                        </Track>
                                    </Grid>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <!-- ═══ Dark ComboBox ═══ -->
            <Style x:Key="DarkComboBox" TargetType="ComboBox">
                <Setter Property="Background" Value="{StaticResource BgInput}" />
                <Setter Property="Foreground" Value="{StaticResource TextPrimary}" />
                <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="Padding" Value="8,6" />
                <Setter Property="FontFamily" Value="Segoe UI" />
                <Setter Property="FontSize" Value="13" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ComboBox">
                            <Grid>
                                <ToggleButton x:Name="ToggleButton"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Focusable="False"
                                    IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                    ClickMode="Press">
                                    <ToggleButton.Template>
                                        <ControlTemplate TargetType="ToggleButton">
                                            <Border x:Name="Border" Background="{TemplateBinding Background}"
                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                    CornerRadius="6">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition />
                                                        <ColumnDefinition Width="24" />
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="1" Text="▾" FontSize="12"
                                                               Foreground="{StaticResource TextSecondary}"
                                                               HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                </Grid>
                                            </Border>
                                        </ControlTemplate>
                                    </ToggleButton.Template>
                                </ToggleButton>
                                <ContentPresenter x:Name="ContentSite"
                                    IsHitTestVisible="False"
                                    Content="{TemplateBinding SelectionBoxItem}"
                                    ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                    Margin="10,3,28,3"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Left" />
                                <Popup x:Name="Popup" Placement="Bottom"
                                       IsOpen="{TemplateBinding IsDropDownOpen}"
                                       AllowsTransparency="True" Focusable="False"
                                       PopupAnimation="Slide">
                                    <Grid x:Name="DropDown" MinWidth="{TemplateBinding ActualWidth}"
                                          MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                          SnapsToDevicePixels="True">
                                        <Border x:Name="DropDownBorder"
                                                Background="{StaticResource BgCard}"
                                                BorderBrush="{StaticResource BorderBrush}"
                                                BorderThickness="1" CornerRadius="6"
                                                Margin="0,2,0,0">
                                            <ScrollViewer Margin="4" SnapsToDevicePixels="True">
                                                <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                                            </ScrollViewer>
                                        </Border>
                                    </Grid>
                                </Popup>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═══ Dark ComboBoxItem ═══ -->
            <Style TargetType="ComboBoxItem">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Foreground" Value="{StaticResource TextPrimary}" />
                <Setter Property="Padding" Value="8,6" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ComboBoxItem">
                            <Border x:Name="Bd" Background="{TemplateBinding Background}"
                                    CornerRadius="4" Padding="{TemplateBinding Padding}">
                                <ContentPresenter />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsHighlighted" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource BgHover}" />
                                </Trigger>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource SelectedBg}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═══ Dark Toggle Switch (CheckBox) ═══ -->
            <Style x:Key="DarkCheckBox" TargetType="CheckBox">
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="CheckBox">
                            <Border x:Name="checkBorder" Width="40" Height="22" CornerRadius="11"
                                    Background="{StaticResource BgInput}" BorderBrush="{StaticResource BorderBrush}"
                                    BorderThickness="1" Cursor="Hand">
                                <Ellipse x:Name="thumb" Width="16" Height="16" Fill="{StaticResource TextDim}"
                                         HorizontalAlignment="Left" Margin="2,0,0,0" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="checkBorder" Property="Background" Value="{StaticResource AccentGreen}" />
                                    <Setter TargetName="checkBorder" Property="BorderBrush" Value="{StaticResource AccentGreen}" />
                                    <Setter TargetName="thumb" Property="HorizontalAlignment" Value="Right" />
                                    <Setter TargetName="thumb" Property="Margin" Value="0,0,2,0" />
                                    <Setter TargetName="thumb" Property="Fill" Value="White" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

        </ResourceDictionary>
    </Application.Resources>
</Application>
